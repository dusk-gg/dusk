{"version":3,"file":"index.js","sources":["../src/internal/messageBridge.ts","../src/api.ts","../src/internal/validations.ts","../src/internal/rng.ts","../src/internal/stateMachine.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":[],"mappings":"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"}